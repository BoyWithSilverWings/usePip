{"version":3,"file":"index.mjs","sources":["../src/index.ts"],"sourcesContent":["import { useState, useEffect, RefObject } from \"react\";\n\nimport toggle from \"./toggle\";\n\nfunction usePip(videoRef: RefObject<HTMLVideoElement>) {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!videoRef.current) {\n      return;\n    }\n    if (\n      !document.pictureInPictureEnabled ||\n      videoRef.current.disablePictureInPicture\n    ) {\n      setError(\"NotSupportedError\");\n      setLoading(false);\n      return;\n    }\n  }, [videoRef]);\n\n  return {\n    error,\n    loading,\n    toggle: toggle(videoRef),\n  };\n}\n\nexport default usePip;\n"],"names":["videoRef","useState","useEffect","current","document","pictureInPictureEnabled","disablePictureInPicture","setError","setLoading","error","loading","toggle"],"mappings":"+DAIA,SAAgBA,SACgBC,GAAS,mBACbA,EAAwB,2BAElDC,gBACOF,EAASG,eAIXC,SAASC,yBACVL,EAASG,QAAQG,yBAEjBC,EAAS,0BACTC,GAAW,YAGZ,CAACR,IAEG,OACLS,UACAC,EACAC"}